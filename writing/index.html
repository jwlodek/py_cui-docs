<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Writing a PyCUI step-by-step - py_cui Documentation</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Writing a PyCUI step-by-step";
    var mkdocs_page_input_path = "writing.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> py_cui Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../install/">Installation</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Using and Writing PyCUIs</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../usage/">Basic Usage</a>
                </li>
                <li class="">
                    
    <a class="" href="../widgets/">Widgets</a>
                </li>
                <li class="">
                    
    <a class="" href="../colors/">Colors</a>
                </li>
                <li class="">
                    
    <a class="" href="../popups/">Popups</a>
                </li>
                <li class="">
                    
    <a class="" href="../keybindings/">Keys</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">Writing a PyCUI step-by-step</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#writing-a-py_cui-step-by-step">Writing a py_cui, step by step</a></li>
    

    </ul>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Classes / Functions</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../DocstringGenerated/PyCUI.md">PyCUI</a>
                </li>
                <li class="">
                    
    <a class="" href="../DocstringGenerated/Grid/">Grid</a>
                </li>
                <li class="">
                    
    <a class="" href="../DocstringGenerated/Widgets/">Widgets</a>
                </li>
                <li class="">
                    
    <a class="" href="../DocstringGenerated/Popups/">Popups</a>
                </li>
                <li class="">
                    
    <a class="" href="../DocstringGenerated/Colors/">Colors</a>
                </li>
                <li class="">
                    
    <a class="" href="../DocstringGenerated/WidgetSet/">Widget Sets</a>
                </li>
                <li class="">
                    
    <a class="" href="../DocstringGenerated/Renderer/">Renderer</a>
                </li>
                <li class="">
                    
    <a class="" href="../DocstringGenerated/Keys/">Keys</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../developers/">For PyCUI Developers</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../examples/">Examples</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../about/">About</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">py_cui Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Using and Writing PyCUIs &raquo;</li>
        
      
    
    <li>Writing a PyCUI step-by-step</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/jwlodek/py_cui/edit/master/docs/writing.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="writing-a-py_cui-step-by-step">Writing a py_cui, step by step</h1>
<p>On this page, we will create a simple <code>py_cui</code> program, step by step. We will create something similar to the todo list example that can be seen in the <code>examples</code> directory in the repository.</p>
<p><strong>Step 1 - Create PyCUI and wrapper class</strong></p>
<p>The recommended way to create <code>py_cui</code> programs is to create a wrapper class that takes the <code>PyCUI</code> object as an argument, similar to how <code>Tk</code> objects are often passed as an argument to a wrapper class.</p>
<pre><code class="Python">import py_cui

class SimpleTodoList:

    def __init__(self, master):

        self.master = master

# Create the CUI with 7 rows 6 columns, pass it to the wrapper object, and start it
root = py_cui.PyCUI(7, 6)
root.set_title('CUI TODO List')
s = SimpleTodoList(root)
root.start()
</code></pre>

<p><strong>Step 2 - Add your widgets</strong></p>
<p>Next, we want to add widgets to the CUI. We will add 3 scroll menus to represent our lists of TODO, In Progress, and Done, a text field for adding new items for now.</p>
<pre><code class="Python">import py_cui

class SimpleTodoList:

    def __init__(self, master):

        self.master = master

        # The scrolled list cells that will contain our tasks in each of the three categories
        self.todo_scroll_cell =         self.master.add_scroll_menu('TODO',         0, 0, row_span=6, column_span=2)
        self.in_progress_scroll_cell =  self.master.add_scroll_menu('In Progress',  0, 2, row_span=7, column_span=2)
        self.done_scroll_cell =         self.master.add_scroll_menu('Done',         0, 4, row_span=7, column_span=2)

        # Textbox for entering new items
        self.new_todo_textbox = self.master.add_text_box('TODO Item', 6, 0, column_span=2)

# Create the CUI with 7 rows 6 columns, pass it to the wrapper object, and start it
root = py_cui.PyCUI(7, 6)
root.set_title('CUI TODO List')
s = SimpleTodoList(root)
root.start()
</code></pre>

<p>Note how we set the <code>row_span</code> and <code>column_span</code> values, so that even though the grid is 7x6, our widgets will actually be larger than that size. The reason we define these sizes is becaue we wish to have the text field fill a narrow row, meaning that we must subdivide the window into many rows.</p>
<p><strong>Step 3 - Add key commands</strong></p>
<p>Next, add keybindings to your widgets. We want buttons that send items into the next list, and the items get removed if theyre in the "Done" list. Also, we need to make the text field send its contents into the "TODO" list.</p>
<pre><code class="Python">import py_cui

class SimpleTodoList:

    def __init__(self, master):

        self.master = master

        # The scrolled list cells that will contain our tasks in each of the three categories
        self.todo_scroll_cell =         self.master.add_scroll_menu('TODO',         0, 0, row_span=6, column_span=2)
        self.in_progress_scroll_cell =  self.master.add_scroll_menu('In Progress',  0, 2, row_span=7, column_span=2)
        self.done_scroll_cell =         self.master.add_scroll_menu('Done',         0, 4, row_span=7, column_span=2)

        # Textbox for entering new items
        self.new_todo_textbox = self.master.add_text_box('TODO Item', 6, 0, column_span=2)

        self.new_todo_textbox.add_key_command(          py_cui.keys.KEY_ENTER, self.add_item)
        self.todo_scroll_cell.add_key_command(          py_cui.keys.KEY_ENTER, self.mark_as_in_progress)
        self.in_progress_scroll_cell.add_key_command(   py_cui.keys.KEY_ENTER, self.mark_as_done)
        self.done_scroll_cell.add_key_command(          py_cui.keys.KEY_ENTER, self.remove_item)

    def add_item(self):
        &quot;&quot;&quot; Add a todo item &quot;&quot;&quot;

        self.todo_scroll_cell.add_item('{}'.format(self.new_todo_textbox.get()))
        self.new_todo_textbox.clear()


    def mark_as_in_progress(self):
        &quot;&quot;&quot; Mark a todo item as inprogress. Remove it from todo scroll list, add it to in progress list, or show error popup if no tasks &quot;&quot;&quot;

        in_prog = self.todo_scroll_cell.get()
        if in_prog is None:
            self.master.show_error_popup('No Item', 'There is no item in the list to mark as in progress')
            return
        self.todo_scroll_cell.remove_selected_item()
        self.in_progress_scroll_cell.add_item(in_prog)


    def mark_as_done(self):
        &quot;&quot;&quot; Mark a inprogress item as done. Remove it from inprogress scroll list, add it to done list, or show error popup if no tasks &quot;&quot;&quot;

        done = self.in_progress_scroll_cell.get()
        if done is None:
            self.master.show_error_popup('No Item', 'There is no item in the list to mark as done')
            return
        self.in_progress_scroll_cell.remove_selected_item()
        self.done_scroll_cell.add_item(done)


    def remove_item(self):
        &quot;&quot;&quot; Remove a todo item &quot;&quot;&quot;

        self.done_scroll_cell.remove_selected_item()

# Create the CUI with 7 rows 6 columns, pass it to the wrapper object, and start it
root = py_cui.PyCUI(7, 6)
root.set_title('CUI TODO List')
s = SimpleTodoList(root)
root.start()
</code></pre>

<p>Note that in the <code>mark_as_in_progress</code> and <code>mark_as_done</code> functions spawn an error popup if the lists are empty.</p>
<p><strong>Step 4 - You're done!</strong></p>
<p>That's it! our simple example is complete, and you can test it with:</p>
<pre><code>python3 simple_todo.py
</code></pre>

<p>You should see something similar to this:</p>
<p>Feel free to play around with this CUI, and note how the keybindings we assigned perform the tasks we wanted them to.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../DocstringGenerated/Grid/" class="btn btn-neutral float-right" title="Grid">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../keybindings/" class="btn btn-neutral" title="Keys"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>2019 - Jakub Wlodek</p>
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/jwlodek/py_cui/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../keybindings/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../DocstringGenerated/Grid/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>

</body>
</html>
